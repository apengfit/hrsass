{"remainingRequest":"D:\\hrsass\\hrsass\\template\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js!D:\\hrsass\\hrsass\\template\\vue-admin-template-master\\src\\store\\modules\\user.js","dependencies":[{"path":"D:\\hrsass\\hrsass\\template\\vue-admin-template-master\\src\\store\\modules\\user.js","mtime":1682155474745},{"path":"D:\\hrsass\\hrsass\\template\\vue-admin-template-master\\babel.config.js","mtime":1637306514000},{"path":"D:\\hrsass\\hrsass\\template\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1681784173365},{"path":"D:\\hrsass\\hrsass\\template\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1681784174955}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovaHJzYXNzL2hyc2Fzcy90ZW1wbGF0ZS92dWUtYWRtaW4tdGVtcGxhdGUtbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiRDovaHJzYXNzL2hyc2Fzcy90ZW1wbGF0ZS92dWUtYWRtaW4tdGVtcGxhdGUtbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovaHJzYXNzL2hyc2Fzcy90ZW1wbGF0ZS92dWUtYWRtaW4tdGVtcGxhdGUtbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0IHsgbG9naW5BcGksIGdldFVzZXJJbmZvQXBpLCBnZXRCYXNlVXNlckluZm9BcGkgfSBmcm9tICJAL2FwaS91c2VyIjsKaW1wb3J0IHsgZ2V0VG9rZW4sIHNldFRva2VuIGFzIF9zZXRUb2tlbiwgcmVtb3ZlVG9rZW4gfSBmcm9tICJAL3V0aWxzL2F1dGgiOwp2YXIgc3RhdGUgPSB7CiAgdG9rZW46IGdldFRva2VuKCkgfHwgJycsCiAgdXNlckluZm86IHt9Cn07CnZhciBtdXRhdGlvbnMgPSB7CiAgc2V0VG9rZW46IGZ1bmN0aW9uIHNldFRva2VuKHN0YXRlLCBuZXdUb2tlbikgewogICAgc3RhdGUudG9rZW4gPSBuZXdUb2tlbjsKICAgIF9zZXRUb2tlbihuZXdUb2tlbik7CiAgfSwKICBzZXRVc2VySW5mbzogZnVuY3Rpb24gc2V0VXNlckluZm8oc3RhdGUsIG5ld1VzZXJJbmZvKSB7CiAgICBzdGF0ZS51c2VySW5mbyA9IG5ld1VzZXJJbmZvOwogIH0sCiAgY2xlYXJUb2tlbjogZnVuY3Rpb24gY2xlYXJUb2tlbihzdGF0ZSkgewogICAgc3RhdGUudG9rZW4gPSAiIjsKICAgIHJlbW92ZVRva2VuKCk7CiAgfSwKICBjbGVhclVzZXJJbmZvOiBmdW5jdGlvbiBjbGVhclVzZXJJbmZvKHN0YXRlKSB7CiAgICBzdGF0ZS51c2VySW5mbyA9IHt9OwogIH0KfTsKdmFyIGdldHRlcnMgPSB7fTsKdmFyIGFjdGlvbnMgPSB7CiAgLy8gbG9naW4oY29udGV4dCwgZGF0YSkgewogIC8vICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAvLyAgICAgbG9naW5BcGkoZGF0YSkudGhlbigocmVzKSA9PiB7CiAgLy8gICAgICAgY29uc3QgdG9rZW4gPSByZXMuZGF0YTsKICAvLyAgICAgICBjb250ZXh0LmNvbW1pdCgic2V0VG9rZW4iLCB0b2tlbik7CiAgLy8gICAgICAgcmVzb2x2ZShyZXMpOwogIC8vICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgLy8gICAgICAgcmVqZWN0KGVycm9yKTsKICAvLyAgICAgfSkKICAvLyAgIH0pCiAgLy8gfSwKICBsb2dpbjogZnVuY3Rpb24gbG9naW4oY29udGV4dCwgZGF0YSkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIHJlcywgdG9rZW47CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gbG9naW5BcGkoZGF0YSk7CiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIHRva2VuID0gcmVzLmRhdGE7CiAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCJzZXRUb2tlbiIsIHRva2VuKTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgcmVzKTsKICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgLy8gZ2V0VXNlckluZm8oY29udGV4dCkgewogIC8vICAgLy8g5byC5q2l5pON5L2cCiAgLy8gICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogIC8vICAgICBnZXRVc2VySW5mb0FwaSgpLnRoZW4ocmVzID0+IHsKICAvLyAgICAgICBsZXQgeyBkYXRhIH0gPSByZXM7CiAgLy8gICAgICAgY29udGV4dC5jb21taXQoJ3NldFVzZXJJbmZvJywgZGF0YSk7CiAgLy8gICAgICAgcmVzb2x2ZShyZXMpOwogIC8vICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgLy8gICAgICAgcmVqZWN0KGVycm9yKTsKICAvLyAgICAgfSkKICAvLyAgIH0pCiAgLy8gfQogIGdldFVzZXJJbmZvOiBmdW5jdGlvbiBnZXRVc2VySW5mbyhfcmVmKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgdmFyIGNvbW1pdCwgX3lpZWxkJGdldFVzZXJJbmZvQXBpLCBkYXRhMSwgX3lpZWxkJGdldEJhc2VVc2VySW5mLCBkYXRhMiwgYmFzZURhdGE7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICByZXR1cm4gZ2V0VXNlckluZm9BcGkoKTsKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgX3lpZWxkJGdldFVzZXJJbmZvQXBpID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgIGRhdGExID0gX3lpZWxkJGdldFVzZXJJbmZvQXBpLmRhdGE7CiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgcmV0dXJuIGdldEJhc2VVc2VySW5mb0FwaShkYXRhMS51c2VySWQpOwogICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICBfeWllbGQkZ2V0QmFzZVVzZXJJbmYgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgZGF0YTIgPSBfeWllbGQkZ2V0QmFzZVVzZXJJbmYuZGF0YTsKICAgICAgICAgICAgLy8gZGF0YTIuc3RhZmZQaG90byA9ICIxMjM0NSI7CiAgICAgICAgICAgIGJhc2VEYXRhID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBkYXRhMSksIGRhdGEyKTsKICAgICAgICAgICAgY29tbWl0KCdzZXRVc2VySW5mbycsIGJhc2VEYXRhKTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIGJhc2VEYXRhKTsKICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyKTsKICAgIH0pKSgpOwogIH0sCiAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoX3JlZjIpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICB2YXIgY29tbWl0OwogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICAgICAgICBjb21taXQoImNsZWFyVG9rZW4iKTsKICAgICAgICAgICAgY29tbWl0KCJjbGVhclVzZXJJbmZvIik7CiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUzKTsKICAgIH0pKSgpOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHN0YXRlLAogIG11dGF0aW9uczogbXV0YXRpb25zLAogIGdldHRlcnM6IGdldHRlcnMsCiAgYWN0aW9uczogYWN0aW9ucwp9Ow=="},{"version":3,"names":["loginApi","getUserInfoApi","getBaseUserInfoApi","getToken","setToken","removeToken","state","token","userInfo","mutations","newToken","setUserInfo","newUserInfo","clearToken","clearUserInfo","getters","actions","login","context","data","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_callee$","_context","prev","next","sent","commit","abrupt","stop","getUserInfo","_ref","_callee2","_yield$getUserInfoApi","data1","_yield$getBaseUserInf","data2","baseData","_callee2$","_context2","userId","_objectSpread","logout","_ref2","_callee3","_callee3$","_context3","namespaced"],"sources":["D:/hrsass/hrsass/template/vue-admin-template-master/src/store/modules/user.js"],"sourcesContent":["import { loginApi, getUserInfoApi, getBaseUserInfoApi } from \"@/api/user\";\nimport { getToken, setToken, removeToken } from \"@/utils/auth\";\nconst state = {\n  token: getToken() || '',\n  userInfo: {}\n}\n\nconst mutations = {\n  setToken(state, newToken) {\n    state.token = newToken;\n    setToken(newToken);\n  },\n  setUserInfo(state, newUserInfo) {\n    state.userInfo = newUserInfo;\n  },\n  clearToken(state) {\n    state.token = \"\";\n    removeToken();\n  },\n  clearUserInfo(state) {\n    state.userInfo = {};\n  }\n}\n\nconst getters = {}\n\nconst actions = {\n  // login(context, data) {\n  //   return new Promise((resolve, reject) => {\n  //     loginApi(data).then((res) => {\n\n  //       const token = res.data;\n  //       context.commit(\"setToken\", token);\n  //       resolve(res);\n  //     }).catch(error => {\n  //       reject(error);\n  //     })\n  //   })\n  // },\n  async login(context, data) {\n    let res = await loginApi(data);\n    const token = res.data;\n    context.commit(\"setToken\", token);\n    return res;\n  },\n  // getUserInfo(context) {\n  //   // 异步操作\n  //   return new Promise((resolve, reject) => {\n  //     getUserInfoApi().then(res => {\n  //       let { data } = res;\n  //       context.commit('setUserInfo', data);\n  //       resolve(res);\n  //     }).catch(error => {\n  //       reject(error);\n  //     })\n  //   })\n  // }\n  async getUserInfo({ commit }) {\n    let { data: data1 } = await getUserInfoApi();\n    let { data: data2 } = await getBaseUserInfoApi(data1.userId);\n    // data2.staffPhoto = \"12345\";\n    const baseData = {\n      ...data1,\n      ...data2\n    }\n    commit('setUserInfo', baseData);\n\n    return baseData;\n  },\n  async logout({ commit }) {\n    commit(\"clearToken\");\n    commit(\"clearUserInfo\");\n  }\n\n}\n\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  getters,\n  actions\n}"],"mappings":"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"}]}