{"remainingRequest":"D:\\hrsass\\hrsass\\template\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js!D:\\hrsass\\hrsass\\template\\vue-admin-template-master\\src\\permission.js","dependencies":[{"path":"D:\\hrsass\\hrsass\\template\\vue-admin-template-master\\src\\permission.js","mtime":1682084939538},{"path":"D:\\hrsass\\hrsass\\template\\vue-admin-template-master\\babel.config.js","mtime":1637306514000},{"path":"D:\\hrsass\\hrsass\\template\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1681784173365},{"path":"D:\\hrsass\\hrsass\\template\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1681784174955}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCByb3V0ZXIgZnJvbSAiQC9yb3V0ZXIiOwppbXBvcnQgc3RvcmUgZnJvbSAiQC9zdG9yZS9pbmRleCI7CmltcG9ydCBOUHJvZ3Jlc3MgZnJvbSAibnByb2dyZXNzIjsKLy8g6L+Y6KaB5byV5YWl55u45a+55bqU5b6X5qC35byPCmltcG9ydCAnbnByb2dyZXNzL25wcm9ncmVzcy5jc3MnOwp2YXIgd2hpdGVMaXN0ID0gWycvbG9naW4nLCAnLzQwNCddOwpyb3V0ZXIuYmVmb3JlRWFjaChmdW5jdGlvbiAodG8sIGZyb20sIG5leHQpIHsKICBOUHJvZ3Jlc3Muc3RhcnQoKTsgLy/ov5vlhaXpobXpnaLvvIzlvIDlkK/ov5vluqbmnaEKICB2YXIgdG9rZW4gPSBzdG9yZS5nZXR0ZXJzLnRva2VuOwogIGlmICh0b2tlbikgewogICAgaWYgKHRvLnBhdGggPT09ICcvbG9naW4nKSB7CiAgICAgIC8vIOaciXRva2VuIOi3s+i9rOWIsOeZu+W9lemhtSAtLemHjeWumuWQkeOAggogICAgICBuZXh0KCcvJyk7CiAgICAgIE5Qcm9ncmVzcy5kb25lKCk7CiAgICB9IGVsc2UgewogICAgICBpZiAoT2JqZWN0LmtleXMoc3RvcmUuc3RhdGUudXNlci51c2VySW5mbykubGVuZ3RoIDw9IDApIHsKICAgICAgICBzdG9yZS5kaXNwYXRjaCgidXNlci9nZXRVc2VySW5mbyIpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgbmV4dCgpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIG5leHQoKTsgLy/mraPluLjmlL7ooYwKICAgICAgfQoKICAgICAgTlByb2dyZXNzLmRvbmUoKTsKICAgIH0KICB9IGVsc2UgewogICAgaWYgKHdoaXRlTGlzdC5pbmNsdWRlcyh0by5wYXRoKSkgewogICAgICBuZXh0KCk7CiAgICAgIE5Qcm9ncmVzcy5kb25lKCk7CiAgICB9IGVsc2UgewogICAgICBuZXh0KCIvbG9naW4iKTsKICAgICAgTlByb2dyZXNzLmRvbmUoKTsKICAgIH0KICB9Cn0pOwpyb3V0ZXIuYWZ0ZXJFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSkgewogIE5Qcm9ncmVzcy5kb25lKCk7Cn0pOw=="},{"version":3,"names":["router","store","NProgress","whiteList","beforeEach","to","from","next","start","token","getters","path","done","Object","keys","state","user","userInfo","length","dispatch","then","includes","afterEach"],"sources":["D:/hrsass/hrsass/template/vue-admin-template-master/src/permission.js"],"sourcesContent":["import router from \"@/router\";\nimport store from \"@/store/index\";\nimport NProgress from \"nprogress\";\n// 还要引入相对应得样式\nimport 'nprogress/nprogress.css';\n\nconst whiteList = ['/login', '/404'];\n\nrouter.beforeEach((to, from, next) => {\n    NProgress.start();//进入页面，开启进度条\n    const token = store.getters.token;\n    if (token) {\n        if (to.path === '/login') {\n            // 有token 跳转到登录页 --重定向。\n            next('/');\n            NProgress.done();\n        } else {\n            if (Object.keys(store.state.user.userInfo).length <= 0) {\n                store.dispatch(\"user/getUserInfo\").then(() => {\n                    next();\n                })\n            } else {\n                next();//正常放行\n            }\n\n\n            NProgress.done();\n        }\n    } else {\n        if (whiteList.includes(to.path)) {\n            next();\n            NProgress.done();\n        } else {\n            next(\"/login\");\n            NProgress.done();\n        }\n    }\n})\n\nrouter.afterEach((to, from) => {\n    NProgress.done();\n})"],"mappings":";;AAAA,OAAOA,MAAM,MAAM,UAAU;AAC7B,OAAOC,KAAK,MAAM,eAAe;AACjC,OAAOC,SAAS,MAAM,WAAW;AACjC;AACA,OAAO,yBAAyB;AAEhC,IAAMC,SAAS,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;AAEpCH,MAAM,CAACI,UAAU,CAAC,UAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,EAAK;EAClCL,SAAS,CAACM,KAAK,EAAE,CAAC;EAClB,IAAMC,KAAK,GAAGR,KAAK,CAACS,OAAO,CAACD,KAAK;EACjC,IAAIA,KAAK,EAAE;IACP,IAAIJ,EAAE,CAACM,IAAI,KAAK,QAAQ,EAAE;MACtB;MACAJ,IAAI,CAAC,GAAG,CAAC;MACTL,SAAS,CAACU,IAAI,EAAE;IACpB,CAAC,MAAM;MACH,IAAIC,MAAM,CAACC,IAAI,CAACb,KAAK,CAACc,KAAK,CAACC,IAAI,CAACC,QAAQ,CAAC,CAACC,MAAM,IAAI,CAAC,EAAE;QACpDjB,KAAK,CAACkB,QAAQ,CAAC,kBAAkB,CAAC,CAACC,IAAI,CAAC,YAAM;UAC1Cb,IAAI,EAAE;QACV,CAAC,CAAC;MACN,CAAC,MAAM;QACHA,IAAI,EAAE,CAAC;MACX;;MAGAL,SAAS,CAACU,IAAI,EAAE;IACpB;EACJ,CAAC,MAAM;IACH,IAAIT,SAAS,CAACkB,QAAQ,CAAChB,EAAE,CAACM,IAAI,CAAC,EAAE;MAC7BJ,IAAI,EAAE;MACNL,SAAS,CAACU,IAAI,EAAE;IACpB,CAAC,MAAM;MACHL,IAAI,CAAC,QAAQ,CAAC;MACdL,SAAS,CAACU,IAAI,EAAE;IACpB;EACJ;AACJ,CAAC,CAAC;AAEFZ,MAAM,CAACsB,SAAS,CAAC,UAACjB,EAAE,EAAEC,IAAI,EAAK;EAC3BJ,SAAS,CAACU,IAAI,EAAE;AACpB,CAAC,CAAC"}]}